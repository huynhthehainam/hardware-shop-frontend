(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[140],{1615:function(e,t,a){"use strict";a.d(t,"e",(function(){return w})),a.d(t,"l",(function(){return y})),a.d(t,"k",(function(){return k})),a.d(t,"f",(function(){return I})),a.d(t,"g",(function(){return A})),a.d(t,"j",(function(){return S})),a.d(t,"h",(function(){return D})),a.d(t,"a",(function(){return T})),a.d(t,"d",(function(){return L})),a.d(t,"b",(function(){return F})),a.d(t,"i",(function(){return z})),a.d(t,"m",(function(){return V}));var n=a(4),r=a(20),c=a(3),s=a.n(c),i=a(7),l=a(37),o=a(89),d=a.n(o),u=a(68),b=a(175),j=a(21),m=a(62);var x=function(e){return e=e||{},j.a.defaults(e,{id:u.a.generateGUID(),name:"",description:"",idAttachmentCover:"",idMembers:[],idLabels:[],attachments:[],subscribed:!0,checklists:[],checkItems:0,checkItemsChecked:0,comments:[],activities:[],due:""})};var f,h=function(e){return e=e||{},j.a.defaults(e,{id:u.a.generateGUID(),name:"",idCards:[]})},O=a(17),p=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),c=Object(O.a)(r,1)[0];return n.splice(a,0,c),n},v=p,g=function(e,t,a){var n=j.a.find(e,{id:t.droppableId}),r=j.a.find(e,{id:a.droppableId}),c=n.idCards[t.index];if(t.droppableId===a.droppableId){var s=p(n.idCards,t.index,a.index);return e.map((function(e){return e.id===t.droppableId&&(e.idCards=s),e}))}return n.idCards.splice(t.index,1),r.idCards.splice(a.index,0,c),e.map((function(e){return e.id===t.droppableId?n:e.id===a.droppableId?r:e}))},N=a(1675),C=a(1629),w=Object(l.createAsyncThunk)("scrumboardApp/board/getBoard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.prev=1,e.next=4,d.a.get("/api/scrumboard-app/board",{params:t});case 4:return r=e.sent,e.next=7,r.data;case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(1),n(Object(m.c)({message:e.t0.response.data,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),b.a.push({pathname:"/apps/scrumboard/boards"}),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),y=Object(l.createAsyncThunk)("scrumboardApp/board/reorderList",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i,l,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,r=a.getState,c=r().scrumboardApp.board,i=c.lists,l=v(j.a.merge([],i),t.source.index,t.destination.index),e.next=6,d.a.post("/api/scrumboard-app/list/order",{boardId:c.id,lists:l});case 6:return o=e.sent,e.next=9,o.data;case 9:return u=e.sent,n(Object(m.c)({message:"List Order Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),k=Object(l.createAsyncThunk)("scrumboardApp/board/reorderCard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i,l,o,u,b,x;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.source,r=t.destination,c=a.dispatch,i=a.getState,l=i().scrumboardApp.board,o=l.lists,u=g(j.a.merge([],o),n,r),e.next=7,d.a.post("/api/scrumboard-app/card/order",{boardId:l.id,lists:u});case 7:return b=e.sent,e.next=10,b.data;case 10:return x=e.sent,c(Object(m.c)({message:"Card Order Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),e.abrupt("return",x);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),I=Object(l.createAsyncThunk)("scrumboardApp/board/newCard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.listId,c=t.cardTitle,a.dispatch,a.getState,e.next=4,d.a.post("/api/scrumboard-app/card/new",{boardId:n,listId:r,data:x({name:c})});case 4:return i=e.sent,e.next=7,i.data;case 7:return l=e.sent,e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),A=Object(l.createAsyncThunk)("scrumboardApp/board/newList",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.listTitle,a.dispatch,a.getState,e.next=4,d.a.post("/api/scrumboard-app/list/new",{boardId:n,data:h({name:r})});case 4:return c=e.sent,e.next=7,c.data;case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),S=Object(l.createAsyncThunk)("scrumboardApp/board/renameList",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.listId,c=t.listTitle,a.dispatch,a.getState,e.next=4,d.a.post("/api/scrumboard-app/list/rename",{boardId:n,listId:r,listTitle:c});case 4:return i=e.sent,e.next=7,i.data;case 7:return l=e.sent,e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),D=Object(l.createAsyncThunk)("scrumboardApp/board/removeList",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.listId,a.dispatch,a.getState,e.next=4,d.a.post("/api/scrumboard-app/list/remove",{boardId:n,listId:r});case 4:return c=e.sent,e.next=7,c.data;case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),T=Object(l.createAsyncThunk)("scrumboardApp/board/changeBoardSettings",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,n=a.getState,r=n().scrumboardApp.board,c=j.a.merge({},r.settings,t),e.next=5,d.a.post("/api/scrumboard-app/board/settings/update",{boardId:r.id,settings:c});case 5:return i=e.sent,e.next=8,i.data;case 8:return l=e.sent,e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),L=Object(l.createAsyncThunk)("scrumboardApp/board/deleteBoard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,a.getState,e.next=3,d.a.post("/api/scrumboard-app/board/delete",{boardId:t});case 3:return n=e.sent,b.a.push({pathname:"/apps/scrumboard/boards"}),e.next=7,n.data;case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),F=Object(l.createAsyncThunk)("scrumboardApp/board/copyBoard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,a.getState,r=j.a.merge({},t,{id:u.a.generateGUID(),name:"".concat(t.name," (Copied)"),uri:"".concat(t.uri,"-copied")}),n(Object(N.c)(r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),z=Object(l.createAsyncThunk)("scrumboardApp/board/renameBoard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.boardTitle,a.dispatch,a.getState,e.next=4,d.a.post("/api/scrumboard-app/board/rename",{boardId:n,boardTitle:r});case 4:return c=e.sent,e.next=7,c.data;case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),P=Object(l.createSlice)({name:"scrumboardApp/boards",initialState:null,reducers:{resetBoard:function(e,t){return null},addLabel:function(e,t){e.labels=[].concat(Object(r.a)(e.labels),[t.payload])}},extraReducers:(f={},Object(n.a)(f,w.fulfilled,(function(e,t){return t.payload})),Object(n.a)(f,y.fulfilled,(function(e,t){e.lists=t.payload})),Object(n.a)(f,k.fulfilled,(function(e,t){e.lists=t.payload})),Object(n.a)(f,A.fulfilled,(function(e,t){e.lists=t.payload})),Object(n.a)(f,I.fulfilled,(function(e,t){return t.payload})),Object(n.a)(f,S.fulfilled,(function(e,t){var a=t.payload,n=a.listId,r=a.listTitle;e.lists=e.lists.map((function(e){return e.id===n&&(e.name=r),e}))})),Object(n.a)(f,D.fulfilled,(function(e,t){e.lists=j.a.reject(e.lists,{id:t.payload})})),Object(n.a)(f,T.fulfilled,(function(e,t){e.settings=t.payload})),Object(n.a)(f,L.fulfilled,(function(e,t){({})})),Object(n.a)(f,z.fulfilled,(function(e,t){e.name=t.payload})),Object(n.a)(f,C.e.fulfilled.type,(function(e,t){e.cards=e.cards.map((function(e){return e.id===t.payload.id?t.payload:e}))})),Object(n.a)(f,C.d.fulfilled,(function(e,t){var a=t.payload;e.cards=j.a.reject(e.cards,{id:a}),e.lists=e.lists.map((function(e){return j.a.set(e,"idCards",j.a.reject(e.idCards,(function(e){return e===a}))),e}))})),f)}),R=P.actions,V=R.resetBoard;R.addLabel,t.c=P.reducer},1629:function(e,t,a){"use strict";a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return b})),a.d(t,"c",(function(){return x})),a.d(t,"a",(function(){return f}));var n=a(4),r=a(3),c=a.n(r),s=a(7),i=a(37),l=a(89),o=a.n(l),d=a(62),u=Object(i.createAsyncThunk)("scrumboardApp/card/updateCard",function(){var e=Object(s.a)(c.a.mark((function e(t,a){var n,r,s,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.card,s=a.dispatch,e.next=4,o.a.post("/api/scrumboard-app/card/update",{boardId:n,card:r});case 4:return i=e.sent,e.next=7,i.data;case 7:return l=e.sent,s(Object(d.c)({message:"Card Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),b=Object(i.createAsyncThunk)("scrumboardApp/card/removeCard",function(){var e=Object(s.a)(c.a.mark((function e(t,a){var n,r,s,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.cardId,s=a.dispatch,e.next=4,o.a.post("/api/scrumboard-app/card/remove",{boardId:n,cardId:r});case 4:return i=e.sent,e.next=7,i.data;case 7:return l=e.sent,s(f()),e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),j=Object(i.createSlice)({name:"scrumboardApp/card",initialState:{dialogOpen:!1,data:null},reducers:{openCardDialog:function(e,t){e.dialogOpen=!0,e.data=t.payload},closeCardDialog:function(e,t){e.dialogOpen=!1,e.data=null}},extraReducers:Object(n.a)({},u.fulfilled,(function(e,t){e.data=t.payload}))}),m=j.actions,x=m.openCardDialog,f=m.closeCardDialog;t.b=j.reducer},1675:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return h})),a.d(t,"e",(function(){return v})),a.d(t,"d",(function(){return N}));var n=a(4),r=a(3),c=a.n(r),s=a(7),i=a(37),l=a(89),o=a.n(l),d=a(175),u=a(68),b=a(21),j=[{id:"26022e4129ad3a5sc28b36cd",name:"High Priority",class:"bg-red text-white"},{id:"56027e4119ad3a5dc28b36cd",name:"Design",class:"bg-orange text-white"},{id:"5640635e19ad3a5dc21416b2",name:"App",class:"bg-blue text-white"},{id:"6540635g19ad3s5dc31412b2",name:"Feature",class:"bg-green text-white"}],m=[{id:"56027c1930450d8bf7b10758",name:"Alice Freeman",avatar:"assets/images/avatars/alice.jpg"},{id:"26027s1930450d8bf7b10828",name:"Danielle Obrien",avatar:"assets/images/avatars/danielle.jpg"},{id:"76027g1930450d8bf7b10958",name:"James Lewis",avatar:"assets/images/avatars/james.jpg"},{id:"36027j1930450d8bf7b10158",name:"John Doe",avatar:"assets/images/avatars/Velazquez.jpg"}];var x=function(e){return e=e||{},b.a.defaults(e,{name:"Untitled Board",uri:"untitled-board",id:u.a.generateGUID(),settings:{color:"",subscribed:!0,cardCoverImages:!0},lists:[],cards:[],members:m,labels:j})},f=Object(i.createAsyncThunk)("scrumboardApp/boards/getBoards",Object(s.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/scrumboard-app/boards");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))),h=Object(i.createAsyncThunk)("scrumboardApp/boards/newBoard",function(){var e=Object(s.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,e.next=3,o.a.post("/api/scrumboard-app/board/new",{board:t||x()});case 3:return n=e.sent,e.next=6,n.data;case 6:return r=e.sent,d.a.push({pathname:"/apps/scrumboard/boards/".concat(r.id,"/").concat(r.handle)}),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),O=Object(i.createEntityAdapter)({}),p=O.getSelectors((function(e){return e.scrumboardApp.boards})),v=p.selectAll,g=(p.selectById,Object(i.createSlice)({name:"scrumboardApp/boards",initialState:O.getInitialState({}),reducers:{resetBoards:function(e,t){}},extraReducers:Object(n.a)({},f.fulfilled,O.setAll)})),N=g.actions.resetBoards;t.a=g.reducer},1758:function(e,t,a){"use strict";var n=a(160),r=a(1615),c=a(1675),s=a(1629),i=Object(n.d)({boards:c.a,board:r.c,card:s.b});t.a=i},3389:function(e,t,a){"use strict";a.r(t);var n=a(17),r=a(1338),c=a(1336),s=a(1374),i=a(1327),l=a(1328),o=a(1378),d=a(1339),u=a(190),b=a(6),j=a(1),m=a(1797),x=a(15),f=a(66),h=a(43),O=a(128),p=a(1294),v=a(1758),g=a(1615),N=a(8),C=a(47),w=a(58),y=a(188),k=a(1346),I=a(733),A=a(1347),S=a(1335),D=a(76),T=a(21),L=a(0),F={title:""},z=D.e().shape({title:D.g().required("You must enter a title")});var P=function(e){var t=Object(x.useDispatch)(),a=Object(x.useSelector)((function(e){return e.scrumboardApp.board})),r=Object(j.useState)(!1),s=Object(n.a)(r,2),o=s[0],d=s[1],u=Object(C.useForm)({mode:"onChange",defaultValues:F,resolver:Object(y.a)(z)}),b=u.control,m=u.formState,f=u.handleSubmit,h=u.reset,O=m.isValid,p=m.dirtyFields;function v(){d(!1)}return m.errors,Object(j.useEffect)((function(){o||h(F)}),[o,h]),Object(L.jsx)("div",{children:Object(L.jsx)(k.a,{className:"w-320 mx-8 sm:mx-12 rounded-20 shadow",square:!0,sx:{backgroundColor:function(e){return Object(w.b)(e.palette.background.paper,"light"===e.palette.mode?.02:.25)}},children:o?Object(L.jsx)(I.a,{onClickAway:v,children:Object(L.jsxs)("form",{className:"p-16",onSubmit:f((function(e){t(Object(g.g)({boardId:a.id,listTitle:e.title})),v()})),children:[Object(L.jsx)(C.Controller,{name:"title",control:b,render:function(e){var t=e.field;return Object(L.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{className:"mb-16",required:!0,fullWidth:!0,variant:"filled",label:"List title",autoFocus:!0,InputProps:{endAdornment:Object(L.jsx)(A.a,{position:"end",children:Object(L.jsx)(l.a,{onClick:v,size:"large",children:Object(L.jsx)(i.a,{className:"text-18",children:"close"})})})}}))}}),Object(L.jsx)("div",{className:"flex justify-between items-center",children:Object(L.jsx)(c.a,{variant:"contained",color:"secondary",type:"submit",disabled:T.a.isEmpty(p)||!O,children:"Add"})})]})}):Object(L.jsxs)(c.a,{onClick:function(e){e.stopPropagation(),d(!0)},classes:{root:"font-medium w-full rounded-none h-64 px-16 justify-start"},children:[Object(L.jsx)(i.a,{className:"text-32 text-red",children:"add_circle"}),Object(L.jsx)("span",{className:"mx-8",children:"Add a list"})]})})})},R=a(14),V=a(1551),E=a(1348),M={title:""},_=D.e().shape({title:D.g().required("You must enter a title")});var B=function(e){var t=Object(x.useDispatch)(),a=Object(x.useSelector)((function(e){return e.scrumboardApp.board})),r=Object(j.useState)(!1),s=Object(n.a)(r,2),o=s[0],d=s[1],u=Object(C.useForm)({mode:"onChange",defaultValues:M,resolver:Object(y.a)(_)}),b=u.control,m=u.formState,f=u.handleSubmit,h=u.reset,O=m.isValid,p=m.dirtyFields;function v(){d(!1)}return m.errors,Object(j.useEffect)((function(){o||h(M)}),[o,h]),Object(L.jsx)("div",{className:"w-full border-t-1",children:o?Object(L.jsx)(I.a,{onClickAway:v,children:Object(L.jsxs)("form",{className:"p-16",onSubmit:f((function(n){t(Object(g.f)({boardId:a.id,listId:e.listId,cardTitle:n.title})).then((function(){e.onCardAdded()})),v()})),children:[Object(L.jsx)(C.Controller,{name:"title",control:b,render:function(e){var t=e.field;return Object(L.jsx)(S.a,{className:"mb-16",required:!0,fullWidth:!0,variant:"filled",label:"Card title",autoFocus:!0,InputProps:Object(N.a)(Object(N.a)({},t),{},{endAdornment:Object(L.jsx)(A.a,{position:"end",children:Object(L.jsx)(l.a,{onClick:v,size:"large",children:Object(L.jsx)(i.a,{className:"text-18",children:"close"})})})})})}}),Object(L.jsx)("div",{className:"flex justify-between items-center",children:Object(L.jsx)(c.a,{variant:"contained",color:"secondary",type:"submit",disabled:T.a.isEmpty(p)||!O,children:"Add"})})]})}):Object(L.jsxs)(c.a,{onClick:function(e){e.stopPropagation(),d(!0)},classes:{root:"font-medium w-full px-16 rounded-none h-48 justify-start"},children:[Object(L.jsx)(i.a,{className:"text-20",children:"add"}),Object(L.jsx)("span",{className:"mx-8",children:"Add a card"})]})})},q=a(1353),H=a(1337),U=a(222),Y=a(236),G=a(1693),W=a(75),J=a(1629),K=Object(R.a)(k.a)((function(e){var t=e.theme;return{transitionProperty:"box-shadow",transitionDuration:t.transitions.duration.short,transitionTimingFunction:t.transitions.easing.easeInOut}}));var Q=function(e){var t,a=Object(x.useDispatch)(),n=Object(x.useSelector)((function(e){return e.scrumboardApp.board})),r=e.cardId,c=e.index,s=T.a.find(n.cards,{id:r}),l=(t=s,T.a.sum(t.checklists.map((function(e){return T.a.sum(e.checkItems.map((function(e){return e.checked?1:0})))})))),o=function(e){return T.a.sum(e.checklists.map((function(e){return e.checkItems.length})))}(s),d=function(e){return T.a.sum(e.activities.map((function(e){return"comment"===e.type?1:0})))}(s);return Object(L.jsx)(m.b,{draggableId:r,index:c,type:"card",children:function(e,t){return Object(L.jsx)("div",Object(N.a)(Object(N.a)(Object(N.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(L.jsxs)(K,{className:Object(b.default)(t.isDragging?"shadow-lg":"shadow-0","w-full mb-16 rounded-16 cursor-pointer border-1"),onClick:function(e){return function(e,t){e.preventDefault(),a(Object(J.c)(t))}(e,s)},children:[n.settings.cardCoverImages&&""!==s.idAttachmentCover&&Object(L.jsx)("img",{className:"block",src:T.a.find(s.attachments,{id:s.idAttachmentCover}).src,alt:"card cover"}),Object(L.jsxs)("div",{className:"p-16 pb-0",children:[s.idLabels.length>0&&Object(L.jsx)("div",{className:"flex flex-wrap mb-8 -mx-4",children:s.idLabels.map((function(e){var t=T.a.find(n.labels,{id:e});return Object(L.jsx)(H.a,{title:t.name,children:Object(L.jsx)("div",{className:Object(b.default)(t.class,"w-32  h-6 rounded-6 mx-4 mb-6")})},e)}))}),Object(L.jsx)(U.a,{className:"font-medium mb-12",children:s.name}),(s.due||o>0)&&Object(L.jsxs)("div",{className:"flex items-center mb-12 -mx-4",children:[s.due&&Object(L.jsxs)("div",{className:Object(b.default)("flex items-center px-8 py-4 mx-4 rounded-16",Object(W.a)(new Date)>s.due?"bg-red text-white":"bg-green text-white"),children:[Object(L.jsx)(i.a,{className:"text-16",children:"access_time"}),Object(L.jsx)("span",{className:"mx-4",children:Object(Y.a)(Object(G.a)(s.due),"MMM do yy")})]}),o>0&&Object(L.jsxs)("div",{className:Object(b.default)("flex items-center px-8 py-4 mx-4 rounded-16",l===o?"bg-green text-white":"bg-grey-700 text-white"),children:[Object(L.jsx)(i.a,{className:"text-16",children:"check_circle"}),Object(L.jsx)("span",{className:"mx-4",children:"".concat(l,"/").concat(o)})]})]}),s.idMembers.length>0&&Object(L.jsxs)("div",{className:"flex flex-wrap mb-12 -mx-4",children:[s.idMembers.map((function(e){var t=T.a.find(n.members,{id:e});return Object(L.jsx)(H.a,{title:t.name,children:Object(L.jsx)(q.a,{className:"mx-4 w-32 h-32",src:t.avatar})},e)})),Object(L.jsx)("div",{})]})]}),Object(L.jsxs)("div",{className:"flex justify-between h-48 px-16 border-t-1",children:[Object(L.jsxs)("div",{className:"flex items-center -mx-6",children:[s.subscribed&&Object(L.jsx)(i.a,{className:"text-18 mx-6",color:"action",children:"remove_red_eye"}),""!==s.description&&Object(L.jsx)(i.a,{className:"text-18 mx-6",color:"action",children:"description"})]}),Object(L.jsxs)("div",{className:"flex items-center justify-end -mx-6",children:[s.attachments&&Object(L.jsxs)("span",{className:"flex items-center mx-6",children:[Object(L.jsx)(i.a,{className:"text-18",color:"action",children:"attachment"}),Object(L.jsx)(U.a,{className:"mx-8",color:"textSecondary",children:s.attachments.length})]}),d>0&&Object(L.jsxs)("span",{className:"flex items-center mx-6",children:[Object(L.jsx)(i.a,{className:"text-18",color:"action",children:"comment"}),Object(L.jsx)(U.a,{className:"mx-8",color:"textSecondary",children:d})]})]})]})]})}))}})},X=a(1345),Z=a(1342),$=a(545),ee=a(1331),te=D.e().shape({title:D.g().required("You must enter a title")});var ae=function(e){var t=Object(x.useDispatch)(),a=Object(x.useSelector)((function(e){return e.scrumboardApp.board})),r=Object(j.useState)(null),c=Object(n.a)(r,2),s=c[0],o=c[1],d=Object(j.useState)(!1),u=Object(n.a)(d,2),b=u[0],m=u[1],f=Object(C.useForm)({mode:"onChange",defaultValues:{title:e.list.name},resolver:Object(y.a)(te)}),h=f.control,O=f.formState,p=f.handleSubmit,v=f.reset,w=O.isValid,k=O.dirtyFields;function D(e){e.stopPropagation(),m(!0)}function F(){m(!1)}return O.errors,Object(j.useEffect)((function(){b||v({title:e.list.name})}),[b,v,e.list.name]),Object(j.useEffect)((function(){b&&s&&o(null)}),[s,b]),Object(L.jsx)("div",Object(N.a)(Object(N.a)({},e.handleProps),{},{children:Object(L.jsxs)("div",{className:"flex items-center justify-between h-48 sm:h-64 px-8",children:[Object(L.jsx)("div",{className:"flex items-center min-w-0 px-12",children:b?Object(L.jsx)(I.a,{onClickAway:F,children:Object(L.jsx)("form",{className:"flex w-full",onSubmit:p((function(n){t(Object(g.j)({boardId:a.id,listId:e.list.id,listTitle:n.title})),F()})),children:Object(L.jsx)(C.Controller,{name:"title",control:h,render:function(e){var t=e.field;return Object(L.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{variant:"outlined",margin:"none",autoFocus:!0,InputProps:{endAdornment:Object(L.jsx)(A.a,{position:"end",children:Object(L.jsx)(l.a,{type:"submit",disabled:T.a.isEmpty(k)||!w,size:"large",children:Object(L.jsx)(i.a,{children:"check"})})})}}))}})})}):Object(L.jsx)(U.a,{className:"text-16 font-medium cursor-pointer",onClick:D,children:e.list.name})}),Object(L.jsxs)("div",{className:"",children:[Object(L.jsx)(l.a,{"aria-owns":s?"actions-menu":null,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},variant:"outlined",size:"small",children:Object(L.jsx)(i.a,{className:"text-20",children:"more_vert"})}),Object(L.jsxs)($.a,{id:"actions-menu",anchorEl:s,open:Boolean(s),onClose:function(){o(null)},children:[Object(L.jsxs)(ee.a,{onClick:function(){t(Object(g.h)({boardId:a.id,listId:e.list.id}))},children:[Object(L.jsx)(X.a,{className:"min-w-40",children:Object(L.jsx)(i.a,{children:"delete"})}),Object(L.jsx)(Z.a,{primary:"Remove List"})]}),Object(L.jsxs)(ee.a,{onClick:D,children:[Object(L.jsx)(X.a,{className:"min-w-40",children:Object(L.jsx)(i.a,{children:"edit"})}),Object(L.jsx)(Z.a,{primary:"Rename List"})]})]})]})]})}))},ne=Object(R.a)(k.a)((function(e){var t=e.theme;return{backgroundColor:Object(w.b)(t.palette.background.paper,"light"===t.palette.mode?.02:.25),transitionProperty:"box-shadow",transitionDuration:t.transitions.duration.short,transitionTimingFunction:t.transitions.easing.easeInOut}}));var re=function(e){var t=Object(j.useRef)(null);function a(){t.current.scrollTop=t.current.scrollHeight}return Object(L.jsx)(m.b,{draggableId:e.list.id,index:e.index,type:"list",children:function(n,r){return Object(L.jsx)("div",Object(N.a)(Object(N.a)({ref:n.innerRef},n.draggableProps),{},{children:Object(L.jsxs)(ne,{className:Object(b.default)(r.isDragging?"shadow-lg":"shadow","w-256 sm:w-320 mx-8 sm:mx-12 max-h-full flex flex-col rounded-20"),square:!0,children:[Object(L.jsx)(ae,{list:e.list,className:"border-b-1",handleProps:n.dragHandleProps}),Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(E.a,{className:"flex flex-col flex-1 flex-auto h-full min-h-0 w-full p-0 overflow-auto",ref:t,children:Object(L.jsx)(m.c,{droppableId:e.list.id,type:"card",direction:"vertical",children:function(t){return Object(L.jsxs)("div",{ref:t.innerRef,className:"flex flex-col w-full h-full p-16",children:[e.list.idCards.map((function(t,a){return Object(L.jsx)(Q,{cardId:t,index:a,list:e.list},t)})),t.placeholder]})}})})}),Object(L.jsx)(V.a,{className:"p-0 flex-shrink-0",children:Object(L.jsx)(B,{listId:e.list.id,onCardAdded:a})})]})}))}})},ce=a(199),se=D.e().shape({title:D.g().required("You must enter a title")});var ie=function(e){var t=Object(x.useDispatch)(),a=Object(x.useSelector)((function(e){return e.scrumboardApp.board})),r=Object(j.useState)(!1),c=Object(n.a)(r,2),s=c[0],o=c[1],d=Object(C.useForm)({mode:"onChange",defaultValues:{title:a.name},resolver:Object(y.a)(se)}),u=d.control,b=d.formState,m=d.handleSubmit,f=d.reset,h=b.isValid,O=b.dirtyFields;function p(){o(!1)}return b.errors,Object(j.useEffect)((function(){s||f({title:a.name})}),[s,f,a.name]),Object(L.jsx)("div",{className:"flex items-center min-w-0",children:s?Object(L.jsx)(I.a,{onClickAway:p,children:Object(L.jsx)(ce.a,{children:Object(L.jsx)("form",{className:"flex w-full",onSubmit:m((function(e){t(Object(g.i)({boardId:a.id,boardTitle:e.title})),p()})),children:Object(L.jsx)(C.Controller,{name:"title",control:u,render:function(e){var t=e.field;return Object(L.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{variant:"filled",margin:"none",autoFocus:!0,hiddenLabel:!0,InputProps:{endAdornment:Object(L.jsx)(A.a,{position:"end",children:Object(L.jsx)(l.a,{type:"submit",disabled:T.a.isEmpty(O)||!h,size:"large",children:Object(L.jsx)(i.a,{children:"check"})})})}}))}})})})}):Object(L.jsxs)("div",{className:"flex items-center justify-center",children:[a.settings.subscribed&&Object(L.jsx)(i.a,{className:"text-16",children:"remove_red_eye"}),Object(L.jsx)(U.a,{className:"text-14 sm:text-18 font-medium cursor-pointer mx-8",onClick:function(e){e.stopPropagation(),o(!0)},color:"inherit",children:a.name})]})})},le=a(1325),oe=a(20),de=a(3217),ue=a(1564),be=a(1466),je=a(1498),me=a(1330),xe=a(1663),fe=a(1341),he=a(555),Oe=a(1389);var pe=function(e){var t=T.a.find(e.members,{id:e.item.idMember});switch(e.item.type){case"comment":return Object(L.jsxs)(fe.a,{dense:!0,className:"px-0",children:[Object(L.jsx)(q.a,{alt:t.name,src:t.avatar,className:"w-32 h-32"}),Object(L.jsxs)(Oe.a,{className:"flex flex-col mx-16 p-12",sx:{borderRadius:"5px 20px 20px 5px",border:function(e){return"1px solid ".concat(e.palette.divider)}},children:[Object(L.jsxs)("div",{className:"flex items-center",children:[Object(L.jsx)(U.a,{children:t.name}),Object(L.jsx)(U.a,{className:"mx-8 text-12",color:"textSecondary",children:Object(he.a)(Object(G.a)(e.item.time),{addSuffix:!0})})]}),Object(L.jsx)(U.a,{children:e.item.message})]})]});case"attachment":return Object(L.jsxs)(fe.a,{dense:!0,className:"px-0",children:[Object(L.jsx)(q.a,{alt:t.name,src:t.avatar,className:"w-32 h-32"}),Object(L.jsxs)("div",{className:"flex items-center mx-16",children:[Object(L.jsxs)(U.a,{children:[t.name,","]}),Object(L.jsx)(U.a,{className:"mx-8",children:e.item.message}),Object(L.jsx)(U.a,{className:"text-12",color:"textSecondary",children:Object(he.a)(Object(G.a)(e.item.time),{addSuffix:!0})})]})]});default:return null}};var ve=function(e){var t=Object(j.useState)(null),a=Object(n.a)(t,2),r=a[0],s=a[1];function l(e){s(e.currentTarget)}function o(){s(null)}switch(e.item.type){case"image":return Object(L.jsxs)("div",{className:"flex w-full sm:w-1/2 mb-16 px-16",children:[Object(L.jsx)("div",{className:"flex items-center justify-center min-w-128 w-128 h-128",children:Object(L.jsx)(ce.a,{className:"overflow-hidden shadow",children:Object(L.jsx)("img",{className:"block max-h-full max-h-full",src:e.item.src,alt:"attachment"})})}),Object(L.jsxs)("div",{className:"flex flex-auto flex-col justify-center items-start min-w-0 px-16",children:[Object(L.jsxs)("div",{className:"flex items-center w-full",children:[Object(L.jsx)(U.a,{className:"text-16 font-semibold truncate flex-shrink",children:e.item.name}),e.card.idAttachmentCover===e.item.id&&Object(L.jsx)(i.a,{className:"text-orange-300 text-20 mx-4",children:"star"})]}),Object(L.jsx)(U.a,{className:"truncate w-full mb-12",color:"textSecondary",children:Object(Y.a)(Object(G.a)(e.item.time),"Pp")}),Object(L.jsxs)(c.a,{"aria-owns":r?"actions-menu":null,"aria-haspopup":"true",onClick:l,variant:"outlined",size:"small",children:["Actions",Object(L.jsx)(i.a,{className:"text-20",children:"arrow_drop_down"})]}),Object(L.jsxs)($.a,{id:"actions-menu",anchorEl:r,open:Boolean(r),onClose:o,children:[e.card.idAttachmentCover!==e.item.id?Object(L.jsx)(ee.a,{onClick:function(){o(),e.makeCover(e.item.id)},children:"Make Cover"}):Object(L.jsx)(ee.a,{onClick:function(){o(),e.removeCover()},children:"Remove Cover"}),Object(L.jsx)(ee.a,{onClick:function(){o(),e.removeAttachment(e.item.id)},children:"Remove Attachment"})]})]})]},e.item.id);case"link":return Object(L.jsxs)("div",{className:"flex w-full sm:w-1/2 mb-16 px-16",children:[Object(L.jsx)(ce.a,{className:"min-w-128 w-128 h-128 flex items-center justify-center rounded-4 overflow-hidden shadow",children:Object(L.jsx)(U.a,{className:"font-semibold",children:"LINK"})}),Object(L.jsxs)("div",{className:"flex flex-auto flex-col justify-center items-start min-w-0 px-16",children:[Object(L.jsx)(U.a,{className:"text-16 font-semibold truncate w-full",children:e.item.url}),Object(L.jsx)(U.a,{className:"truncate w-full mb-12",color:"textSecondary",children:e.item.time}),Object(L.jsxs)(c.a,{"aria-owns":r?"actions-menu":null,"aria-haspopup":"true",onClick:l,variant:"outlined",size:"small",children:["Actions",Object(L.jsx)(i.a,{className:"text-20",children:"arrow_drop_down"})]}),Object(L.jsx)($.a,{id:"simple-menu",anchorEl:r,open:Boolean(r),onClose:o,children:Object(L.jsx)(ee.a,{onClick:function(){o(),e.removeAttachment(e.item.id)},children:"Remove Attachment"})})]})]},e.item.id);default:return null}},ge=a(1329),Ne=a(1340),Ce=a(68);var we=function(e){return e=e||{},T.a.defaults(e,{id:Ce.a.generateGUID(),name:"",checked:!1})},ye=D.e().shape({name:D.g().required("You must enter a title")});var ke=function(e){var t=Object(C.useForm)({mode:"onChange",defaultValues:{name:e.name},resolver:Object(y.a)(ye)}),a=t.control,n=t.formState,r=t.handleSubmit,c=t.reset,s=n.isValid,l=n.dirtyFields;return n.errors,Object(L.jsx)("form",{onSubmit:r((function(t){e.onListItemAdd(we(t)),c({name:e.name})})),children:Object(L.jsxs)(fe.a,{className:"px-0",dense:!0,children:[Object(L.jsx)("span",{className:"w-40"}),Object(L.jsx)(C.Controller,{name:"name",control:a,render:function(e){var t=e.field;return Object(L.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{className:"flex flex-1 mx-8",name:"name",variant:"outlined",placeholder:"Add an item"}))}}),Object(L.jsx)(Ne.a,{className:"mx-4","aria-label":"Add",size:"small",color:"secondary",type:"submit",disabled:T.a.isEmpty(l)||!s,children:Object(L.jsx)(i.a,{children:"add"})})]})})},Ie=a(1465);var Ae=function(e){var t=e.item,a=e.onListItemChange,n=e.index,r=Object(C.useForm)({mode:"onChange",defaultValues:t}),c=r.control,s=(0,r.watch)();return Object(j.useEffect)((function(){T.a.isEqual(t,s)||a(s,n)}),[s,n,a,t]),Object(L.jsxs)(fe.a,{className:"px-0",dense:!0,children:[Object(L.jsx)(C.Controller,{name:"checked",control:c,defaultValue:!1,render:function(e){var t=e.field,a=t.onChange,n=t.value;return Object(L.jsx)(Ie.a,{tabIndex:-1,checked:n,onChange:function(e){return a(e.target.checked)},disableRipple:!0})}}),Object(L.jsx)(C.Controller,{name:"name",control:c,render:function(e){var t=e.field;return Object(L.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{className:"flex flex-1 mx-8",variant:"outlined"}))}}),Object(L.jsx)(l.a,{"aria-label":"Delete",onClick:e.onListItemRemove,size:"large",children:Object(L.jsx)(i.a,{children:"delete"})})]},t.id)},Se=D.e().shape({name:D.g().required("You must enter a title")}),De=Object(j.forwardRef)((function(e,t){var a=Object(j.useState)(!1),r=Object(n.a)(a,2),c=r[0],s=r[1],o=Object(C.useForm)({mode:"onChange",defaultValues:{name:e.name},resolver:Object(y.a)(Se)}),d=o.control,u=o.formState,b=o.handleSubmit,m=o.reset,x=u.isValid,f=u.dirtyFields;u.errors;function h(e){e.stopPropagation(),s(!0)}function O(){s(!1)}return Object(j.useEffect)((function(){c||m({name:e.name})}),[c,m,e.name]),Object(j.useImperativeHandle)(t,(function(){return{openForm:h}})),c?Object(L.jsx)(I.a,{onClickAway:O,children:Object(L.jsx)("form",{onSubmit:b((function(t){e.onNameChange(t.name),O()})),children:Object(L.jsx)(C.Controller,{name:"name",control:d,render:function(e){var t=e.field;return Object(L.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{variant:"outlined",margin:"dense",autoFocus:!0,InputProps:{endAdornment:Object(L.jsx)(A.a,{position:"end",children:Object(L.jsx)(l.a,{type:"submit",disabled:T.a.isEmpty(f)||!x,size:"large",children:Object(L.jsx)(i.a,{children:"check"})})})}}))}})})}):Object(L.jsx)(U.a,{className:"text-16 font-semibold cursor-pointer mx-8",onClick:h,children:e.name})}));var Te=function(e){var t=e.onCheckListChange,a=e.checklist,r=e.index,c=Object(j.useState)(null),s=Object(n.a)(c,2),o=s[0],d=s[1],u=Object(j.useRef)(),b=Object(C.useForm)({mode:"onChange",defaultValues:a}),m=b.watch,x=b.control,f=m();function h(){d(null)}function O(){return T.a.sum(f.checkItems.map((function(e){return e.checked?1:0})))}return Object(j.useEffect)((function(){T.a.isEqual(f,a)||t(f,r)}),[f,r,t,a]),f?Object(L.jsxs)("div",{className:"mb-24",children:[Object(L.jsxs)("div",{className:"flex items-center justify-between mt-16 mb-12",children:[Object(L.jsxs)("div",{className:"flex items-center",children:[Object(L.jsx)(i.a,{className:"text-20",children:"check_box"}),Object(L.jsx)(C.Controller,{name:"name",control:x,defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.value;return Object(L.jsx)(De,{name:n,onNameChange:function(e){return a(e)},ref:u})}})]}),Object(L.jsxs)("div",{className:"",children:[Object(L.jsx)(l.a,{"aria-owns":o?"actions-menu":null,"aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},variant:"outlined",size:"small",children:Object(L.jsx)(i.a,{className:"text-20",children:"more_vert"})}),Object(L.jsxs)($.a,{id:"actions-menu",anchorEl:o,open:Boolean(o),onClose:h,children:[Object(L.jsxs)(ee.a,{onClick:e.onRemoveCheckList,children:[Object(L.jsx)(X.a,{className:"min-w-40",children:Object(L.jsx)(i.a,{children:"delete"})}),Object(L.jsx)(Z.a,{primary:"Remove Checklist"})]}),Object(L.jsxs)(ee.a,{onClick:function(e){h(),u.current.openForm(e)},children:[Object(L.jsx)(X.a,{className:"min-w-40",children:Object(L.jsx)(i.a,{children:"edit"})}),Object(L.jsx)(Z.a,{primary:"Rename Checklist"})]})]})]})]}),Object(L.jsxs)("div",{className:"",children:[Object(L.jsxs)("div",{className:"flex items-center -mx-6",children:[Object(L.jsx)(U.a,{className:"flex font-semibold mx-6",children:"".concat(O()," / ").concat(f.checkItems.length)}),Object(L.jsx)(ge.a,{className:"flex flex-1 mx-6",variant:"determinate",color:"secondary",value:100*O()/f.checkItems.length})]}),Object(L.jsx)(C.Controller,{name:"checkItems",control:x,defaultValue:[],render:function(e){var t=e.field,a=t.onChange,n=t.value;return Object(L.jsxs)(me.a,{className:"",children:[n.map((function(e,t){return Object(L.jsx)(Ae,{item:e,index:t,onListItemChange:function(e,t){a(T.a.setIn(n,"[".concat(t,"]"),e))},onListItemRemove:function(){a(T.a.reject(n,{id:e.id}))}},e.id)})),Object(L.jsx)(ke,{onListItemAdd:function(e){return a([].concat(Object(oe.a)(n),[e]))}})]})}})]})]}):null};var Le=function(e){return e=e||{},T.a.defaults(e,{id:Ce.a.generateGUID(),type:"comment",idMember:null,message:"",time:Object(W.a)(new Date)})},Fe=D.e().shape({message:D.g().required("You must enter a comment")});var ze=function(e){var t={idMember:"36027j1930450d8bf7b10158",message:""},a=Object(C.useForm)({mode:"onChange",defaultValues:t,resolver:Object(y.a)(Fe)}),n=a.control,r=a.formState,s=a.handleSubmit,i=a.reset,l=r.isValid,o=r.dirtyFields,d=r.errors,u=T.a.find(e.members,{id:t.idMember});return Object(L.jsxs)("form",{onSubmit:s((function(a){e.onCommentAdd(Le(Object(N.a)(Object(N.a)({},t),a))),i(t)})),className:"flex -mx-8",children:[Object(L.jsx)(q.a,{className:"w-32 h-32 mx-8",alt:u.name,src:u.avatar}),Object(L.jsxs)("div",{className:"flex flex-col items-start flex-1 mx-8",children:[Object(L.jsx)(C.Controller,{name:"message",control:n,render:function(e){var t,a=e.field;return Object(L.jsx)(S.a,Object(N.a)(Object(N.a)({},a),{},{className:"flex flex-1",fullWidth:!0,error:!!d.message,helperText:null===d||void 0===d||null===(t=d.message)||void 0===t?void 0:t.message,row:3,variant:"outlined",label:"Add comment",placeholder:"Write a comment..."}))}}),Object(L.jsx)(c.a,{className:"mt-16","aria-label":"save",variant:"contained",color:"secondary",type:"submit",size:"small",disabled:T.a.isEmpty(o)||!l,children:"Save"})]})]})};var Pe=function(e){return e=e||{},T.a.defaults(e,{id:Ce.a.generateGUID(),name:"",checkItems:[]})},Re=a(764);var Ve=function(e){return Object(L.jsx)(Re.a,{open:Boolean(e.state),anchorEl:e.state,onClose:e.onClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(L.jsx)(L.Fragment,{children:e.children})})},Ee=D.e().shape({name:D.g().required("You must enter a title")});var Me=function(e){var t=Object(j.useState)(null),a=Object(n.a)(t,2),r=a[0],s=a[1],o=Object(C.useForm)({mode:"onChange",defaultValues:{name:e.name},resolver:Object(y.a)(Ee)}),d=o.control,u=o.formState,b=o.handleSubmit,m=o.reset,x=u.isValid,f=u.dirtyFields,h=u.errors;function O(){s(null)}return Object(j.useEffect)((function(){r||m({name:e.name})}),[r,m,e.name]),Object(L.jsxs)("div",{children:[Object(L.jsx)(l.a,{color:"inherit",onClick:function(e){s(e.currentTarget)},size:"large",children:Object(L.jsx)(i.a,{children:"check_box"})}),Object(L.jsx)(Ve,{state:r,onClose:O,children:Object(L.jsxs)("form",{onSubmit:b((function(t){e.onAddCheckList(Pe(t)),O()})),className:"p-16 flex flex-col items-end",children:[Object(L.jsx)(C.Controller,{name:"name",control:d,render:function(e){var t,a=e.field;return Object(L.jsx)(S.a,Object(N.a)(Object(N.a)({},a),{},{label:"Checklist title",error:!!h.name,helperText:null===h||void 0===h||null===(t=h.name)||void 0===t?void 0:t.message,fullWidth:!0,className:"mb-12",variant:"outlined",required:!0,autoFocus:!0}))}}),Object(L.jsx)(c.a,{color:"secondary",type:"submit",disabled:T.a.isEmpty(f)||!x,variant:"contained",children:"Add"})]})})]})};var _e=function(e){var t=Object(j.useState)(null),a=Object(n.a)(t,2),r=a[0],c=a[1],s=e.due?Object(Y.a)(Object(G.a)(e.due),"Pp"):Object(Y.a)(new Date,"Pp");function o(){c(null)}return Object(L.jsxs)("div",{children:[Object(L.jsx)(l.a,{color:"inherit",onClick:function(e){c(e.currentTarget)},size:"large",children:Object(L.jsx)(i.a,{children:"today"})}),Object(L.jsx)(Ve,{state:r,onClose:o,children:Object(L.jsx)("div",{className:"p-16 max-w-192",children:e.due?Object(L.jsx)(ee.a,{onClick:function(t){e.onRemoveDue(),o()},children:"Remove Due Date"}):Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(de.a,{value:s,inputFormat:"Pp",onChange:function(t,a){e.onDueChange(Object(W.a)(t)),o()},renderInput:function(e){return Object(L.jsx)(S.a,Object(N.a)({label:"Due date",placeholder:"Choose a due date",className:"w-full"},e))}})})})})]})};var Be=function(e){var t=Object(j.useState)(null),a=Object(n.a)(t,2),r=a[0],c=a[1];return Object(L.jsxs)("div",{children:[Object(L.jsx)(l.a,{color:"inherit",onClick:function(e){c(e.currentTarget)},size:"large",children:Object(L.jsx)(i.a,{children:"label"})}),Object(L.jsx)(Ve,{state:r,onClose:function(){c(null)},children:Object(L.jsx)("div",{className:"",children:e.labels.map((function(t){return Object(L.jsxs)(ee.a,{className:"px-8",onClick:function(a){e.onToggleLabel(t.id)},children:[Object(L.jsx)(Ie.a,{checked:e.idLabels.includes(t.id)}),Object(L.jsx)(Z.a,{className:"mx-8",children:t.name}),Object(L.jsx)(X.a,{className:"min-w-24",children:Object(L.jsx)(i.a,{children:"label"})})]},t.id)}))})})]})};var qe=function(e){var t=Object(j.useState)(null),a=Object(n.a)(t,2),r=a[0],c=a[1];return Object(L.jsxs)("div",{children:[Object(L.jsx)(l.a,{color:"inherit",onClick:function(e){c(e.currentTarget)},size:"large",children:Object(L.jsx)(i.a,{children:"account_circle"})}),Object(L.jsx)(Ve,{state:r,onClose:function(){c(null)},children:Object(L.jsx)("div",{className:"",children:e.members.map((function(t){return Object(L.jsxs)(ee.a,{className:"px-8",onClick:function(a){e.onToggleMember(t.id)},children:[Object(L.jsx)(Ie.a,{checked:e.idMembers.includes(t.id)}),Object(L.jsx)(q.a,{className:"w-32 h-32",src:t.avatar}),Object(L.jsx)(Z.a,{className:"mx-8",children:t.name})]},t.id)}))})})]})};var He=function(e){var t=Object(j.useState)(null),a=Object(n.a)(t,2),r=a[0],c=a[1];return Object(L.jsxs)("div",{children:[Object(L.jsx)(l.a,{color:"inherit",onClick:function(e){c(e.currentTarget)},size:"large",children:Object(L.jsx)(i.a,{children:"more_horiz"})}),Object(L.jsx)(Ve,{state:r,onClose:function(){c(null)},children:Object(L.jsx)(ee.a,{onClick:e.onRemoveCard,children:"Remove Card"})})]})};var Ue=function(e){var t=Object(x.useDispatch)(),a=Object(x.useSelector)((function(e){return e.scrumboardApp.card.data})),n=Object(x.useSelector)((function(e){return e.scrumboardApp.board})),c=Object(C.useForm)({mode:"onChange",defaultValues:a}),s=c.register,o=c.watch,u=c.control,m=c.setValue,f=o(),h=Object(O.a)((function(e,a){t(Object(J.e)({boardId:e,card:Object(N.a)({},a)}))}),600),p=a?T.a.find(n.lists,(function(e){return e.idCards.includes(a.id)})):null;return Object(j.useEffect)((function(){a&&(T.a.isEqual(a,f)||h(n.id,f))}),[n.id,a,f,h]),Object(j.useEffect)((function(){s("idAttachmentCover")}),[s]),a?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(je.a,{component:"div",className:"p-0",children:Object(L.jsx)(r.a,{position:"static",elevation:0,children:Object(L.jsxs)(d.a,{className:"flex w-full overflow-x-auto px-8 sm:px-16",children:[Object(L.jsxs)("div",{className:"flex flex-1",children:[Object(L.jsx)(C.Controller,{name:"due",control:u,defaultValue:null,render:function(e){var t=e.field,a=t.onChange,n=t.value;return Object(L.jsx)(_e,{onDueChange:a,onRemoveDue:function(){return a(null)},due:n})}}),Object(L.jsx)(C.Controller,{name:"idLabels",control:u,defaultValue:[],render:function(e){var t=e.field,a=t.onChange,r=t.value;return Object(L.jsx)(Be,{onToggleLabel:function(e){return a(T.a.xor(r,[e]))},labels:n.labels,idLabels:r})}}),Object(L.jsx)(C.Controller,{name:"idMembers",control:u,defaultValue:[],render:function(e){var t=e.field,a=t.onChange,r=t.value;return Object(L.jsx)(qe,{onToggleMember:function(e){return a(T.a.xor(r,[e]))},members:n.members,idMembers:r})}}),Object(L.jsx)(C.Controller,{name:"attachments",control:u,defaultValue:[],render:function(e){var t=e.field;t.onChange,t.value;return Object(L.jsx)(l.a,{color:"inherit",size:"large",children:Object(L.jsx)(i.a,{children:"attachment"})})}}),Object(L.jsx)(C.Controller,{name:"checklists",control:u,defaultValue:[],render:function(e){var t=e.field,a=t.onChange;t.value;return Object(L.jsx)(Me,{onAddCheckList:function(e){return a([].concat(Object(oe.a)(f.checklists),[e]))}})}}),Object(L.jsx)(He,{onRemoveCard:function(){return t(Object(J.d)({boardId:n.id,cardId:f.id}))}})]}),Object(L.jsx)(l.a,{color:"inherit",onClick:function(e){return t(Object(J.a)())},size:"large",children:Object(L.jsx)(i.a,{children:"close"})})]})})}),Object(L.jsxs)(be.a,{className:"p-16 sm:p-24",children:[Object(L.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between justify-center items-center my-24",children:[Object(L.jsxs)("div",{className:"mb-16 sm:mb-0 flex items-center",children:[Object(L.jsx)(U.a,{children:n.name}),Object(L.jsx)(i.a,{className:"text-20",color:"inherit",children:"chevron_right"}),Object(L.jsx)(U.a,{children:p&&p.name})]}),f.due&&Object(L.jsx)(de.a,{value:Object(Y.a)(Object(G.a)(f.due),"Pp"),inputFormat:"Pp",onChange:function(e){return m("due",Object(W.a)(e))},renderInput:function(e){return Object(L.jsx)(S.a,Object(N.a)({label:"Due date",placeholder:"Choose a due date",className:"w-full sm:w-auto"},e))}})]}),Object(L.jsx)("div",{className:"flex items-center mb-24",children:Object(L.jsx)(C.Controller,{name:"name",control:u,render:function(e){var t=e.field;return Object(L.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{label:"Title",type:"text",variant:"outlined",fullWidth:!0,required:!0,InputProps:{endAdornment:Object(L.jsx)(A.a,{position:"end",children:a.subscribed&&Object(L.jsx)(i.a,{className:"text-20",color:"action",children:"remove_red_eye"})})}}))}})}),Object(L.jsx)("div",{className:"w-full mb-24",children:Object(L.jsx)(C.Controller,{name:"description",control:u,render:function(e){var t=e.field;return Object(L.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{label:"Description",multiline:!0,rows:"4",variant:"outlined",fullWidth:!0}))}})}),Object(L.jsxs)("div",{className:"flex flex-col sm:flex-row -mx-8",children:[f.idLabels&&f.idLabels.length>0&&Object(L.jsxs)("div",{className:"flex-1 mb-24 mx-8",children:[Object(L.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[Object(L.jsx)(i.a,{className:"text-20",color:"inherit",children:"label"}),Object(L.jsx)(U.a,{className:"font-semibold text-16 mx-8",children:"Labels"})]}),Object(L.jsx)(xe.a,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:n.labels,getOptionLabel:function(e){return e.name},value:f.idLabels.map((function(e){return T.a.find(n.labels,{id:e})})),onChange:function(e,t){m("idLabels",t.map((function(e){return e.id})))},renderTags:function(e,t){return e.map((function(e,a){return Object(L.jsx)(ue.a,Object(N.a)(Object(N.a)({label:e.name},t({index:a})),{},{className:Object(b.default)("m-3",e.class)}))}))},renderInput:function(e){return Object(L.jsx)(S.a,Object(N.a)(Object(N.a)({},e),{},{placeholder:"Select multiple Labels",label:"Labels",variant:"outlined",InputLabelProps:{shrink:!0}}))}})]}),f.idMembers&&f.idMembers.length>0&&Object(L.jsxs)("div",{className:"flex-1 mb-24 mx-8",children:[Object(L.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[Object(L.jsx)(i.a,{className:"text-20",color:"inherit",children:"supervisor_account"}),Object(L.jsx)(U.a,{className:"font-semibold text-16 mx-8",children:"Members"})]}),Object(L.jsx)(xe.a,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:n.members,getOptionLabel:function(e){return e.name},value:f.idMembers.map((function(e){return T.a.find(n.members,{id:e})})),onChange:function(e,t){m("idMembers",t.map((function(e){return e.id})))},renderTags:function(e,t){return e.map((function(e,a){return Object(L.jsx)(ue.a,Object(N.a)(Object(N.a)({label:e.name},t({index:a})),{},{className:Object(b.default)("m-3",e.class),avatar:Object(L.jsx)(H.a,{title:e.name,children:Object(L.jsx)(q.a,{src:e.avatar})})}))}))},renderInput:function(e){return Object(L.jsx)(S.a,Object(N.a)(Object(N.a)({},e),{},{placeholder:"Select multiple Members",label:"Members",variant:"outlined",InputLabelProps:{shrink:!0}}))}})]})]}),f.attachments&&f.attachments.length>0&&Object(L.jsxs)("div",{className:"mb-24",children:[Object(L.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[Object(L.jsx)(i.a,{className:"text-20",color:"inherit",children:"attachment"}),Object(L.jsx)(U.a,{className:"font-semibold text-16 mx-8",children:"Attachments"})]}),Object(L.jsx)("div",{className:"flex flex-col sm:flex-row flex-wrap -mx-16",children:f.attachments.map((function(e){return Object(L.jsx)(ve,{item:e,card:f},e.id)}))})]}),f.checklists&&f.checklists.map((function(e,t){return Object(L.jsx)(Te,{checklist:e,index:t,onCheckListChange:function(e,t){m("checklists",T.a.setIn(f.checklists,"[".concat(t,"]"),e))},onRemoveCheckList:function(){m("checklists",T.a.reject(f.checklists,{id:e.id}))}},e.id)})),Object(L.jsxs)("div",{className:"mb-24",children:[Object(L.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[Object(L.jsx)(i.a,{className:"text-20",color:"inherit",children:"comment"}),Object(L.jsx)(U.a,{className:"font-semibold text-16 mx-8",children:"Comment"})]}),Object(L.jsx)("div",{children:Object(L.jsx)(ze,{members:n.members,onCommentAdd:function(e){return m("activities",[e].concat(Object(oe.a)(f.activities)))}})})]}),Object(L.jsx)(C.Controller,{name:"activities",control:u,defaultValue:[],render:function(e){var t=e.field,a=(t.onChange,t.value);return Object(L.jsx)("div",{children:a.length>0&&Object(L.jsxs)("div",{className:"mb-24",children:[Object(L.jsxs)("div",{className:"flex items-center mt-16",children:[Object(L.jsx)(i.a,{className:"text-20",color:"inherit",children:"list"}),Object(L.jsx)(U.a,{className:"font-semibold text-16 mx-8",children:"Activity"})]}),Object(L.jsx)(me.a,{className:"",children:a.map((function(e){return Object(L.jsx)(pe,{item:e,members:n.members},e.id)}))})]})})}})]})]}):null};var Ye=function(e){var t=Object(x.useDispatch)(),a=Object(x.useSelector)((function(e){return e.scrumboardApp.card.dialogOpen}));return Object(L.jsx)(le.a,{classes:{paper:"max-w-lg w-full m-24"},onClose:function(e){return t(Object(J.a)())},open:a,children:Object(L.jsx)(Ue,{})})},Ge=a(771),We=a(1334);var Je=function(e){var t=Object(x.useDispatch)(),a=Object(x.useSelector)((function(e){return e.scrumboardApp.board}));return Object(L.jsxs)("div",{children:[Object(L.jsx)(r.a,{position:"static",children:Object(L.jsx)(d.a,{className:"flex w-full justify-center",children:"Settings"})}),Object(L.jsxs)(me.a,{className:"py-16",dense:!0,children:[Object(L.jsxs)(fe.a,{button:!0,onClick:function(){return t(Object(g.a)({cardCoverImages:!a.settings.cardCoverImages}))},children:[Object(L.jsx)(X.a,{className:"min-w-40",children:Object(L.jsx)(i.a,{children:"photo"})}),Object(L.jsx)(Z.a,{primary:"Card Cover Images"}),Object(L.jsx)(Ge.a,{children:Object(L.jsx)(We.a,{onChange:function(){return t(Object(g.a)({cardCoverImages:!a.settings.cardCoverImages}))},checked:a.settings.cardCoverImages})})]}),Object(L.jsxs)(fe.a,{button:!0,onClick:function(){return t(Object(g.a)({subscribed:!a.settings.subscribed}))},children:[Object(L.jsx)(X.a,{className:"min-w-40",children:Object(L.jsx)(i.a,{children:"remove_red_eye"})}),Object(L.jsx)(Z.a,{primary:"Subscribe"}),Object(L.jsx)(Ge.a,{children:Object(L.jsx)(We.a,{onChange:function(){return t(Object(g.a)({subscribed:!a.settings.subscribed}))},checked:a.settings.subscribed})})]}),Object(L.jsxs)(fe.a,{button:!0,onClick:function(){return t(Object(g.b)(a))},children:[Object(L.jsx)(X.a,{className:"min-w-40",children:Object(L.jsx)(i.a,{children:"file_copy"})}),Object(L.jsx)(Z.a,{primary:"Copy Board"})]}),Object(L.jsxs)(fe.a,{button:!0,onClick:function(){return t(Object(g.d)(a.id))},children:[Object(L.jsx)(X.a,{className:"min-w-40",children:Object(L.jsx)(i.a,{children:"delete"})}),Object(L.jsx)(Z.a,{primary:"Delete Board"})]})]})]})};t.default=Object(u.a)("scrumboardApp",v.a)(Object(f.k)((function(e){var t=Object(x.useDispatch)(),a=Object(x.useSelector)((function(e){return e.scrumboardApp.board})),u=Object(f.j)(),v=Object(j.useRef)(null),N=Object(j.useState)(!1),C=Object(n.a)(N,2),w=C[0],y=C[1];function k(e){y(void 0===e?!w:e)}return Object(O.b)((function(){return t(Object(g.e)(u)),function(){t(Object(g.m)())}}),[t,u]),a?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(p.a,{styles:function(e){return{"#fuse-main":{height:"100vh"}}}}),Object(L.jsxs)("div",{className:"flex flex-1 flex-auto flex-col w-full h-full relative",ref:v,children:[Object(L.jsx)(r.a,{position:"static",color:"primary",elevation:0,children:Object(L.jsxs)(d.a,{className:"flex items-center justify-between px-4 sm:px-24 h-48 sm:h-64 sm:h-96 container",children:[Object(L.jsx)(s.a,{smDown:!0,children:Object(L.jsxs)(c.a,{to:"/apps/scrumboard/boards/",component:h.a,variant:"contained",color:"secondary",children:[Object(L.jsx)(i.a,{children:"assessment"}),Object(L.jsx)("span",{className:"px-8",children:"Boards"})]})}),Object(L.jsx)(s.a,{smUp:!0,children:Object(L.jsx)(l.a,{color:"inherit",to:"/apps/scrumboard/boards/",component:h.a,size:"large",children:Object(L.jsx)(i.a,{children:"assessment"})})}),Object(L.jsx)("div",{className:"flex flex-1 justify-center items-center",children:Object(L.jsx)(ie,{})}),Object(L.jsx)(l.a,{color:"inherit",onClick:function(){return k(!0)},size:"large",children:Object(L.jsx)(i.a,{children:"settings"})})]})}),Object(L.jsx)("div",{className:Object(b.default)("flex flex-1 overflow-x-auto overflow-y-hidden"),children:Object(L.jsx)(m.a,{onDragEnd:function(e){var a=e.source,n=e.destination;n&&(a.droppableId===n.droppableId&&a.index===n.index||("list"===e.type&&t(Object(g.l)(e)),"card"===e.type&&t(Object(g.k)(e))))},children:Object(L.jsx)(m.c,{droppableId:"list",type:"list",direction:"horizontal",children:function(e){return Object(L.jsxs)("div",{ref:e.innerRef,className:"flex container py-16 md:py-24 px-8 md:px-12",children:[a.lists.map((function(e,t){return Object(L.jsx)(re,{list:e,index:t},e.id)})),e.placeholder,Object(L.jsx)(P,{})]})}})})}),Object(L.jsx)(o.a,{anchor:"right",className:"absolute overflow-hidden",classes:{paper:"absolute w-320"},BackdropProps:{classes:{root:"absolute"}},container:v.current,ModalProps:{keepMounted:!0,style:{position:"absolute"}},open:w,onOpen:function(e){},onClose:function(){return k(!1)},disableSwipeToOpen:!0,children:Object(L.jsx)(Je,{})}),Object(L.jsx)(Ye,{})]})]}):null})))}}]);